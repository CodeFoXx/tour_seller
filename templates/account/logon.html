{% extends 'base.html' %}
{% block content %}

    <div class="contentbody">
        <h4>Авторизация</h4>
        <form action="{% url 'logon' %}" method="post">
            {% csrf_token %}
            <div id="toast-div" class="mdl-js-snackbar mdl-snackbar">
                    <div class="mdl-snackbar__text"></div>
                    <button class="mdl-snackbar__action" type="button" style="display:none;"></button>
            </div>
            <div class="demo-card-event mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title mdl-card--expand" style="flex-direction: column">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input id="username"  type="text" name="username" class="mdl-textfield__input" required>
                        <label class="mdl-textfield__label" for="username">Логин</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input id="password" type="password" name="password" class="mdl-textfield__input" required>
                        <label class="mdl-textfield__label" for="password">Пароль</label>
                    </div>
                </div>
                <div class="mdl-card__actions mdl-card--border">
                    <input type="submit" value="Войти" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" />
                    <div class="mdl-layout-spacer"></div>
                </div>
            </div>
        </form>

        {% if messages %}
            {% for message in messages %}
                <script>
                    function addSnackbar(string) {
                        var snackbarContainer = document.querySelector('#toast-div');
                        var data = { message: string, timeout: 3000 };
                        snackbarContainer.MaterialSnackbar.showSnackbar(data);
                    }

                    $(window).on('load', function () {
                        addSnackbar('{{ message|safe }}');
                    });
                </script>
            {% endfor %}
        {% endif %}
    </div>
    <br/>

{% endblock %}






